<div class="py-12">
  <div class="max-w-4xl mx-auto px-6">
    <nav class="flex items-center gap-2 text-sm text-text-muted mb-8">
      <a routerLink="/docs" class="text-text-secondary hover:text-accent-primary">Docs</a>
      <span>/</span>
      <span>Rust</span>
    </nav>

    <article class="prose">
      <span class="inline-block px-2 py-1 bg-orange-400/15 text-orange-400 rounded-full text-xs font-medium mb-4">Rust</span>
      <h1 class="text-4xl font-bold mb-4">Rust Documentation</h1>
      <p class="text-lg text-text-secondary mb-12">
        The native Rust implementation of NanoPDF provides the best performance with zero-cost abstractions and full memory safety.
      </p>

      <section class="mb-12">
        <h2 class="text-2xl font-semibold mb-6 pb-2 border-b border-bg-tertiary">Installation</h2>
        <pre><code>[dependencies]
nanopdf = "0.1"

# With all features
nanopdf = &#123; version = "0.1", features = ["parallel", "async", "jpeg2000"] &#125;</code></pre>
      </section>

      <section class="mb-12">
        <h2 class="text-2xl font-semibold mb-6 pb-2 border-b border-bg-tertiary">Core Types</h2>
        
        <h3 class="text-lg font-semibold mt-6 mb-4">Document</h3>
        <p class="text-text-secondary mb-4">The main entry point for working with PDF files:</p>
        <pre class="mb-6"><code><span class="keyword">use</span> nanopdf::Document;

<span class="comment">// Open from file</span>
<span class="keyword">let</span> doc = Document::open(<span class="string">"file.pdf"</span>)?;

<span class="comment">// Open from bytes</span>
<span class="keyword">let</span> data = std::fs::read(<span class="string">"file.pdf"</span>)?;
<span class="keyword">let</span> doc = Document::from_bytes(&amp;data)?;

<span class="comment">// With password</span>
<span class="keyword">let</span> doc = Document::open_with_password(<span class="string">"encrypted.pdf"</span>, <span class="string">"secret"</span>)?;

<span class="comment">// Document info</span>
println!(<span class="string">"Pages: &#123;&#125;"</span>, doc.page_count());
println!(<span class="string">"Title: &#123;:?&#125;"</span>, doc.title());
println!(<span class="string">"Author: &#123;:?&#125;"</span>, doc.author());</code></pre>

        <h3 class="text-lg font-semibold mt-6 mb-4">Page</h3>
        <p class="text-text-secondary mb-4">Access and render individual pages:</p>
        <pre class="mb-6"><code><span class="keyword">let</span> page = doc.load_page(<span class="number">0</span>)?;

<span class="comment">// Page dimensions (in points, 72 pts = 1 inch)</span>
<span class="keyword">let</span> bounds = page.bounds();
println!(<span class="string">"Size: &#123;&#125;x&#123;&#125;"</span>, bounds.width(), bounds.height());

<span class="comment">// Render at 2x scale</span>
<span class="keyword">let</span> pixmap = page.render(<span class="number">2.0</span>)?;

<span class="comment">// Render with custom matrix</span>
<span class="keyword">let</span> matrix = Matrix::scale(<span class="number">1.5</span>, <span class="number">1.5</span>).then_rotate(<span class="number">90.0</span>);
<span class="keyword">let</span> pixmap = page.render_with_matrix(matrix)?;</code></pre>

        <h3 class="text-lg font-semibold mt-6 mb-4">Pixmap</h3>
        <p class="text-text-secondary mb-4">Pixel buffer for rendered content:</p>
        <pre><code><span class="keyword">let</span> pixmap = page.render(<span class="number">2.0</span>)?;

<span class="comment">// Access pixels</span>
<span class="keyword">let</span> width = pixmap.width();
<span class="keyword">let</span> height = pixmap.height();
<span class="keyword">let</span> samples = pixmap.samples();  <span class="comment">// Raw RGBA bytes</span>

<span class="comment">// Save to files</span>
pixmap.save_png(<span class="string">"output.png"</span>)?;
pixmap.save_jpeg(<span class="string">"output.jpg"</span>, <span class="number">90</span>)?;  <span class="comment">// quality 0-100</span>

<span class="comment">// Get PNG bytes</span>
<span class="keyword">let</span> png_data = pixmap.to_png()?;</code></pre>
      </section>

      <section class="mb-12">
        <h2 class="text-2xl font-semibold mb-6 pb-2 border-b border-bg-tertiary">Parallel Processing</h2>
        <p class="text-text-secondary mb-4">Enable the <code>parallel</code> feature for batch operations:</p>
        <pre><code><span class="keyword">use</span> nanopdf::parallel;

<span class="comment">// Render multiple pages in parallel</span>
<span class="keyword">let</span> pixmaps: Vec&lt;Pixmap&gt; = parallel::render_pages(&amp;doc, <span class="number">2.0</span>)?;

<span class="comment">// Process buffers in parallel</span>
<span class="keyword">let</span> results = parallel::process_buffers(buffers, |buf| &#123;
    <span class="comment">// Processing logic</span>
    buf.len()
&#125;);</code></pre>
      </section>

      <section class="mb-12">
        <h2 class="text-2xl font-semibold mb-6 pb-2 border-b border-bg-tertiary">Async I/O</h2>
        <p class="text-text-secondary mb-4">Enable the <code>async</code> feature for non-blocking operations:</p>
        <pre><code><span class="keyword">use</span> nanopdf::async_io;

<span class="comment">// Read file asynchronously</span>
<span class="keyword">let</span> data = async_io::read_file(<span class="string">"large.pdf"</span>).<span class="keyword">await</span>?;

<span class="comment">// Read multiple files concurrently</span>
<span class="keyword">let</span> files = vec![<span class="string">"a.pdf"</span>, <span class="string">"b.pdf"</span>, <span class="string">"c.pdf"</span>];
<span class="keyword">let</span> results = async_io::read_files_concurrent(files).<span class="keyword">await</span>?;</code></pre>
      </section>

      <section>
        <h2 class="text-2xl font-semibold mb-6 pb-2 border-b border-bg-tertiary">API Reference</h2>
        <p class="text-text-secondary mb-4">For complete API documentation, see:</p>
        <ul class="list-none p-0">
          <li class="py-2"><a href="https://docs.rs/nanopdf" target="_blank" class="text-accent-primary hover:underline">docs.rs/nanopdf</a></li>
          <li class="py-2"><a routerLink="/api" class="text-accent-primary hover:underline">API Reference</a></li>
        </ul>
      </section>
    </article>
  </div>
</div>

